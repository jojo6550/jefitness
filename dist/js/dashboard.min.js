let isLocalhost=["localhost","127.0.0.1"].includes(window.location.hostname),API_BASE_URL=isLocalhost?"http://localhost:10000":"https://jefitness.onrender.com";window.initDashboard=async()=>{var a=localStorage.getItem("token");if(a)try{var e,o,t=await fetch(API_BASE_URL+"/api/auth/me",{method:"GET",headers:{Authorization:"Bearer "+a}});t.ok?"admin"!==(await t.json()).role&&(o=document.querySelector('a[href="admin-dashboard.html"]'))&&(o.style.display="none"):(console.warn("User data fetch failed"),(e=document.querySelector('a[href="admin-dashboard.html"]'))&&(e.style.display="none"))}catch(e){console.error("Error verifying admin status:",e);a=document.querySelector('a[href="admin-dashboard.html"]');a&&(a.style.display="none")}};