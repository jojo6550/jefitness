<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Welcome to JE Fitness - Setup Guide</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
    <link rel="stylesheet" href="../styles/styles.css">
    <link rel="stylesheet" href="../styles/onboarding.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">
</head>
<body class="onboarding-page">
    <!-- Main Onboarding Container -->
    <div id="onboardingContainer" class="onboarding-wrapper">
        <!-- Progress Bar -->
        <div class="onboarding-progress">
            <div class="progress" style="height: 4px;">
                <div id="progressBar" class="progress-bar" role="progressbar" style="width: 0%"></div>
            </div>
            <p class="progress-text text-center mt-2"><span id="currentStep">1</span> / <span id="totalSteps">5</span></p>
        </div>

        <!-- Step 1: Welcome -->
        <div id="step-welcome" class="onboarding-step active">
            <div class="step-content text-center">
                <div class="welcome-icon mb-4">
                    <i class="bi bi-heart-pulse display-1 text-primary"></i>
                </div>
                <h1 class="display-4 fw-bold mb-3">Welcome to JE Fitness!</h1>
                <p class="lead mb-4">We're excited to have you on board. This quick setup guide will help you get the most out of our platform.</p>
                
                <div class="onboarding-features mb-5">
                    <div class="feature-item">
                        <i class="bi bi-person-check"></i>
                        <span>Complete Your Profile</span>
                    </div>
                    <div class="feature-item">
                        <i class="bi bi-file-medical"></i>
                        <span>Upload Medical Info (if needed)</span>
                    </div>
                    <div class="feature-item">
                        <i class="bi bi-lightbulb"></i>
                        <span>Discover Key Features</span>
                    </div>
                </div>

                <p class="text-muted mb-4">This guide takes about 5-10 minutes. You can skip steps and return anytime.</p>

                <div class="step-actions">
                    <button class="btn btn-lg btn-primary next-btn" onclick="onboardingGuide.nextStep()">
                        Let's Get Started <i class="bi bi-arrow-right ms-2"></i>
                    </button>
                    <button class="btn btn-lg btn-outline-secondary ms-2" onclick="onboardingGuide.skipOnboarding()">
                        Skip for Now
                    </button>
                </div>
            </div>
        </div>

        <!-- Step 2: Profile Completion -->
        <div id="step-profile" class="onboarding-step">
            <div class="step-content">
                <h2 class="mb-4"><i class="bi bi-person-fill me-2"></i>Complete Your Profile</h2>
                <p class="text-muted mb-4">We need some basic information to personalize your fitness journey.</p>

                <div class="profile-form-mini">
                    <div class="mb-3">
                        <label for="onbFullName" class="form-label">Full Name</label>
                        <input type="text" class="form-control" id="onbFullName" placeholder="John Doe">
                    </div>

                    <div class="row mb-3">
                        <div class="col-md-6">
                            <label for="onbDob" class="form-label">Date of Birth</label>
                            <input type="date" class="form-control" id="onbDob">
                        </div>
                        <div class="col-md-6">
                            <label for="onbGender" class="form-label">Gender</label>
                            <select class="form-select" id="onbGender">
                                <option value="">Select</option>
                                <option value="male">Male</option>
                                <option value="female">Female</option>
                                <option value="other">Other</option>
                            </select>
                        </div>
                    </div>

                    <div class="row mb-3">
                        <div class="col-md-6">
                            <label for="onbPhone" class="form-label">Phone Number</label>
                            <input type="tel" class="form-control" id="onbPhone" placeholder="+1 (555) 123-4567">
                        </div>
                        <div class="col-md-6">
                            <label for="onbWeight" class="form-label">Current Weight (lbs)</label>
                            <input type="number" class="form-control" id="onbWeight" step="0.1">
                        </div>
                    </div>

                    <div class="mb-3">
                        <label for="onbGoals" class="form-label">What are your fitness goals?</label>
                        <textarea class="form-control" id="onbGoals" rows="3" placeholder="e.g., Build muscle, lose weight, improve flexibility..."></textarea>
                    </div>

                    <div class="info-box mb-4">
                        <i class="bi bi-info-circle me-2"></i>
                        <small>This information helps us create a personalized experience and ensure safe fitness guidance.</small>
                    </div>
                </div>

                <div class="step-actions">
                    <button class="btn btn-outline-secondary" onclick="onboardingGuide.prevStep()">Back</button>
                    <button class="btn btn-primary" onclick="onboardingGuide.saveProfile()">Continue</button>
                </div>
            </div>
        </div>

        <!-- Step 3: Medical Information -->
        <div id="step-medical" class="onboarding-step">
            <div class="step-content">
                <h2 class="mb-4"><i class="bi bi-file-medical me-2"></i>Medical Information (Optional)</h2>
                <p class="text-muted mb-4">Tell us about any medical conditions so we can provide appropriate guidance.</p>

                <div class="medical-form-mini">
                    <div class="mb-3">
                        <label class="form-label">Do you have any medical conditions?</label>
                        <div class="form-check">
                            <input type="radio" class="form-check-input" id="medicalNo" name="hasMedical" value="no" checked>
                            <label class="form-check-label" for="medicalNo">No, I'm in good health</label>
                        </div>
                        <div class="form-check">
                            <input type="radio" class="form-check-input" id="medicalYes" name="hasMedical" value="yes">
                            <label class="form-check-label" for="medicalYes">Yes, I have conditions to share</label>
                        </div>
                    </div>

                    <div id="medicalConditionsDiv" style="display: none;">
                        <div class="mb-3">
                            <label for="onbMedicalConditions" class="form-label">Describe your medical conditions</label>
                            <textarea class="form-control" id="onbMedicalConditions" rows="3" placeholder="e.g., Asthma, heart condition, joint issues..."></textarea>
                        </div>

                        <div class="mb-3">
                            <label class="form-label">Upload Medical Documents</label>
                            <p class="small text-muted mb-2">Upload medical records or doctor's notes (PDF, DOC, JPG - max 5MB)</p>
                            <div id="onbUploadZone" class="upload-zone-mini">
                                <i class="bi bi-cloud-upload"></i>
                                <p>Drag files here or <a href="#" onclick="document.getElementById('onbMedicalFile').click(); return false;">browse</a></p>
                                <input type="file" id="onbMedicalFile" style="display: none;" accept=".pdf,.doc,.docx,.jpg,.png">
                            </div>
                            <div id="onbUploadedFiles" class="mt-2"></div>
                        </div>
                    </div>

                    <div class="info-box mb-4">
                        <i class="bi bi-shield-check me-2"></i>
                        <small>Your health information is secure and only visible to you and your assigned trainer.</small>
                    </div>
                </div>

                <div class="step-actions">
                    <button class="btn btn-outline-secondary" onclick="onboardingGuide.prevStep()">Back</button>
                    <button class="btn btn-primary" onclick="onboardingGuide.saveMedical()">Continue</button>
                </div>
            </div>
        </div>

        <!-- Step 4: Feature Tour -->
        <div id="step-features" class="onboarding-step">
            <div class="step-content">
                <h2 class="mb-4"><i class="bi bi-star-fill me-2"></i>Explore Key Features</h2>
                <p class="text-muted mb-4">Let's walk through the main features you'll use:</p>

                <div id="featureCarousel" class="feature-carousel">
                    <!-- Feature 1 -->
                    <div class="feature-card active" id="feature-0">
                        <div class="feature-icon">
                            <i class="bi bi-calendar-check display-3 text-primary mb-3"></i>
                        </div>
                        <h4>Workout Programs</h4>
                        <p>Browse and follow expertly-designed fitness programs tailored to your goals. Track your progress and adjust as you go.</p>
                        <ul class="feature-benefits">
                            <li><i class="bi bi-check-circle me-2"></i>Customized routines</li>
                            <li><i class="bi bi-check-circle me-2"></i>Step-by-step instructions</li>
                            <li><i class="bi bi-check-circle me-2"></i>Progress tracking</li>
                        </ul>
                    </div>

                    <!-- Feature 2 -->
                    <div class="feature-card" id="feature-1">
                        <div class="feature-icon">
                            <i class="bi bi-apple display-3 text-success mb-3"></i>
                        </div>
                        <h4>Nutrition Tracking</h4>
                        <p>Log your meals and track macros. Get insights into your eating patterns and make healthier choices.</p>
                        <ul class="feature-benefits">
                            <li><i class="bi bi-check-circle me-2"></i>Quick food logging</li>
                            <li><i class="bi bi-check-circle me-2"></i>Macro tracking</li>
                            <li><i class="bi bi-check-circle me-2"></i>Daily summaries</li>
                        </ul>
                    </div>

                    <!-- Feature 3 -->
                    <div class="feature-card" id="feature-2">
                        <div class="feature-icon">
                            <i class="bi bi-moon-stars display-3 text-info mb-3"></i>
                        </div>
                        <h4>Sleep Monitoring</h4>
                        <p>Track your sleep patterns to understand how rest impacts your fitness and recovery.</p>
                        <ul class="feature-benefits">
                            <li><i class="bi bi-check-circle me-2"></i>Daily logging</li>
                            <li><i class="bi bi-check-circle me-2"></i>Sleep trends</li>
                            <li><i class="bi bi-check-circle me-2"></i>Recovery insights</li>
                        </ul>
                    </div>

                    <!-- Feature 4 -->
                    <div class="feature-card" id="feature-3">
                        <div class="feature-icon">
                            <i class="bi bi-chat-dots display-3 text-warning mb-3"></i>
                        </div>
                        <h4>Connect with Trainers</h4>
                        <p>Schedule appointments and get personalized guidance from certified fitness coaches.</p>
                        <ul class="feature-benefits">
                            <li><i class="bi bi-check-circle me-2"></i>Book appointments</li>
                            <li><i class="bi bi-check-circle me-2"></i>Get expert advice</li>
                            <li><i class="bi bi-check-circle me-2"></i>Personalized plans</li>
                        </ul>
                    </div>
                </div>

                <div class="feature-navigation mt-4 text-center">
                    <button class="btn btn-sm btn-outline-secondary me-2" id="prevFeatureBtn" onclick="onboardingGuide.prevFeature()">
                        <i class="bi bi-chevron-left"></i> Previous
                    </button>
                    <span id="featureCounter" class="text-muted">1 / 4</span>
                    <button class="btn btn-sm btn-outline-secondary ms-2" id="nextFeatureBtn" onclick="onboardingGuide.nextFeature()">
                        Next <i class="bi bi-chevron-right"></i>
                    </button>
                </div>

                <div class="step-actions mt-4">
                    <button class="btn btn-outline-secondary" onclick="onboardingGuide.prevStep()">Back</button>
                    <button class="btn btn-primary" onclick="onboardingGuide.nextStep()">Finish Setup</button>
                </div>
            </div>
        </div>

        <!-- Step 5: Complete -->
        <div id="step-complete" class="onboarding-step">
            <div class="step-content text-center">
                <div class="complete-icon mb-4">
                    <i class="bi bi-check-circle display-1 text-success"></i>
                </div>
                <h1 class="display-5 fw-bold mb-3">You're All Set!</h1>
                <p class="lead mb-4">Your profile is complete and you're ready to start your fitness journey.</p>

                <div class="onboarding-summary mb-5">
                    <div class="summary-item">
                        <i class="bi bi-check-lg text-success me-2"></i>
                        <span>Profile completed</span>
                    </div>
                    <div class="summary-item">
                        <i class="bi bi-check-lg text-success me-2"></i>
                        <span>Health information updated</span>
                    </div>
                    <div class="summary-item">
                        <i class="bi bi-check-lg text-success me-2"></i>
                        <span>Platform tour completed</span>
                    </div>
                </div>

                <p class="text-muted mb-4">Quick tips to get started:</p>
                <div class="tips-box mb-5">
                    <div class="tip-item"><strong>1.</strong> Browse programs matching your goals</div>
                    <div class="tip-item"><strong>2.</strong> Start logging your meals and workouts</div>
                    <div class="tip-item"><strong>3.</strong> Schedule your first trainer session</div>
                </div>

                <div class="step-actions">
                    <button class="btn btn-lg btn-primary" onclick="onboardingGuide.completeOnboarding()">
                        Go to Dashboard <i class="bi bi-arrow-right ms-2"></i>
                    </button>
                </div>

                <p class="text-muted mt-4 small">
                    Need help? Check out our <a href="#" class="text-primary">help center</a> or <a href="#" class="text-primary">contact support</a>
                </p>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../js/onboarding.js" defer></script>
</body>
</html>
